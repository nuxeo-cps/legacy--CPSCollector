<html metal:use-macro="here/content_lib/macros/master">

<metal:block fill-slot="main"
  tal:define="mcat nocall:cpsmcat;
              create options/create|here/assert_form_modify;
              title python:(create and [''] or [doc.Title()])[0];
              description python:(create and [''] or [doc.description])[0];
              submit_msg python:(create and ['Thank you'] or [doc.submit_msg])[0];
              submit_msg_stat python:(create and [0] or [doc.submit_msg_stat])[0];
              unique_submit python:create or doc.unique_submit;
              persistent_data python:create or doc.persistent_data;
              submitvalue python:create and mcat('_button_create_') or mcat('_button_modify_');
              action python:create and 'content_create' or 'content_edit';">
  <tal:block condition="create"
    tal:content="python:mcat('_Create_a_collector_')">
    Create a Collector
  </tal:block>
  <tal:block condition="not:create">
    <tal:block replace="python:mcat('_Modify_prop(object name)_')">
      Modify
    </tal:block>
    «&nbsp;<span tal:replace="doc/title_or_id">Title</span>&nbsp;»
  </tal:block>

  <form name="edit_form" action="." method="post" enctype="multipart/form-data"
        tal:attributes="action action">

  <table>
    <tr>
      <td>
        <span tal:content="python:mcat('_prop_title_')" />
      </td>
      <td>
        <input type="text" name="title" value="title" tal:attributes="value
        title" />
      </td>
    </tr>
    <tr>
      <td>
      <!-- descr -->
        <span tal:content="python:mcat('_prop_description_')" />
      </td>
      <td>
        <textarea name="description:text" rows="5" cols="50" wrap="soft"
        tal:content="description"></textarea>
      </td>
    </tr>
    <tr>
      <td>
        <span tal:content="python:mcat('_prop_submit_msg_')" />
      </td>
      <td>
        <textarea name="submit_msg:text" rows="5" cols="50" wrap="soft"
        tal:content="submit_msg|default"></textarea>
      </td>
    </tr>
    <tr>
      <td>
        <span tal:content="python:mcat('_prop_submit_msg_stat_')" />
      </td>
      <td>
          <input type="hidden" name="submit_msg_stat:boolean:default" value="" />
          <input type="checkbox" name="submit_msg_stat:boolean"
            checked="." tal:attributes="checked submit_msg_stat" />
      </td>
    </tr>
    <tr>
      <td>
        <span tal:content="python:mcat('_prop_unique_submit_')" />
      </td>
      <td>
        <input type="hidden" name="unique_submit:boolean:default" value="" />
        <input type="checkbox" name="unique_submit:boolean"
          checked="." tal:attributes="checked unique_submit" />
      </td>
    </tr>
    <tr>
      <td>
        <span tal:content="python:mcat('_prop_persistent_data_')" />
      </td>
      <td>
        <input type="hidden" name="persistent_data:boolean:default" value="" />
        <input type="checkbox" name="persistent_data:boolean"
          checked="." tal:attributes="checked persistent_data" />
      </td>
    </tr>
  </table>

  <input type="hidden" name="type_name" value="Collector Document">
  <tal:block condition="create">
    <input type="hidden" name="default_id_from" value="title" />
    <input type="hidden" name="default_title_from" value="description" />
    <input type="hidden" name="default_description_from" value="title" />
  </tal:block>
  <input class="mainbutton" type="submit" value="." tal:attributes="value submitvalue" />
  <input type="button" name="cancel" onclick="history.back()"
    tal:attributes="value python:mcat('_button_cancel_')" />
  </form>

</metal:block>

</html>
